.glitch_heading {
    display: flex;
    position: relative;
    flex-direction: column;
    padding: 0 1rem;
    font-size: 10rem;
    font-weight: 800;
    line-height: 1;
    color: #FAF9F6;

    span:nth-of-type(3n),
    span:last-of-type {
        align-self: flex-end;
    }
}

.glitch_span {
    position: relative;
    animation: text-glitch 5s 6.5s infinite, fade-in 1s 2.5s forwards ease-in-out;
    opacity: 0;

    &::before {
        content: attr(data-text);
        position: absolute;
        left: -1px;
        text-shadow: -4px 0 #663399;
        overflow: hidden;
        top: 0;
        animation: pre-noise 10s linear infinite alternate-reverse, text-glitch 5s 6.5s infinite;
    }

    &::after {
        content: attr(data-text);
        position: absolute;
        left: 1px;
        text-shadow: -2px 0 lightgreen;
        overflow: hidden;
        top: 0;
        animation: after-noise 17s linear infinite alternate-reverse, text-glitch 5s 6s infinite;
    }
}

.background_glow {
    text-shadow: 0 0 500px rgb(50, 45, 124);
    color: transparent;
    position: absolute;
    top: 0;
    opacity: 0;
    animation: fade-in 1s 1s forwards ease-in-out;
}

.background_lines {
    overflow: hidden;
    mix-blend-mode: difference;

    &::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      
        background: repeating-linear-gradient(
          to bottom,
          transparent 0%,
          rgba(255, 255, 255, 0.09) .1%,
          transparent .8%
        );
        animation: fudge 3s ease-in-out alternate infinite;
    }
}

.glitch_subheadings {
    font-size: 1.5rem;
    letter-spacing: 0.15rem;
    animation: text-glitch 5s 5.5s infinite, fade-in 1s 2.5s forwards ease-in-out;
    opacity: 0;
    font-weight: 500;
}

.bottom_slide {
  animation: fade-in 1s 2.5s forwards ease-in-out;
}

.slide_trigger {
  padding: 2rem 0;
  transform: translateY(0);
  opacity: 0;
  animation: slide-down 1s 2.5s forwards ease-in-out;
}

@keyframes fudge {
    from {
      transform: translate(0px, 0px);
    }
    to {
      transform: translate(0px, 2%);
    }
}

@keyframes slide-down {
  from {
    transform: translateY(0);
    opacity: 0;
  }
  to {
    transform: translateY(100%);
    opacity: 1;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@keyframes text-glitch {
    1%{
      transform: rotateX(12deg) skewX(90deg);
    }
    2%{
      transform: rotateX(0deg) skewX(0deg);
    }
}
@keyframes pre-noise {
    $steps: 30;
    @for $i from 1 through $steps {
      #{percentage($i*(1/$steps))} {
        $top: random(100);
        $bottom: random(101 - $top);
        clip-path: inset(#{$top}px 0 #{$bottom}px 0);
      }
    }
}
@keyframes after-noise {
    $steps: 30;
    @for $i from 0 through $steps {
      #{percentage($i*(1/$steps))} {
        $top: random(100);
        $bottom: random(101 - $top);
        clip-path: inset(#{$top}px 0 #{$bottom}px 0);
      }
    }
}